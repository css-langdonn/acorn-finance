<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acorn Finance - The Best Finance App</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <span class="logo-icon">üå∞</span>
                <span class="logo-text">Acorn Finance</span>
            </div>
            <div class="nav-links">
                <a href="#dashboard" class="nav-link active" data-section="dashboard">Dashboard</a>
                <a href="#portfolio" class="nav-link" data-section="portfolio">Portfolio</a>
                <a href="#signals" class="nav-link" data-section="signals">Signals</a>
                <a href="#watchlist" class="nav-link" data-section="watchlist">Watchlist</a>
                <a href="#analytics" class="nav-link" data-section="analytics">Analytics</a>
                <span class="user-info" id="userInfo"></span>
                <button class="btn-admin" id="adminBtn" data-auth="admin">Admin</button>
                <button class="btn-signout" id="signOutBtn">Sign Out</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="section active">
            <div class="container">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <p>Your financial command center</p>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-content">
                            <div class="stat-value" id="totalValue">$0.00</div>
                            <div class="stat-label">Portfolio Value</div>
                            <div class="stat-change" id="portfolioChange">+0.00%</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-content">
                            <div class="stat-value" id="cashBalance">$10,000.00</div>
                            <div class="stat-label">Cash Balance</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-content">
                            <div class="stat-value" id="signalsCount">0</div>
                            <div class="stat-label">Active Signals</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-content">
                            <div class="stat-value" id="watchlistCount">0</div>
                            <div class="stat-label">Watchlist Items</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h2>Quick Actions</h2>
                    <div class="actions-grid">
                        <button class="action-btn" id="addToWatchlistBtn">
                            <span class="action-icon">‚ûï</span>
                            <span>Add to Watchlist</span>
                        </button>
                        <button class="action-btn" id="viewSignalsBtn">
                            <span class="action-icon">üîî</span>
                            <span>View Signals</span>
                        </button>
                        <button class="action-btn" id="portfolioBtn">
                            <span class="action-icon">üíº</span>
                            <span>My Portfolio</span>
                        </button>
                        <button class="action-btn" id="analyticsBtn">
                            <span class="action-icon">üìä</span>
                            <span>Analytics</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Signals -->
                <div class="section-card">
                    <div class="card-header">
                        <h2>Recent Trading Signals</h2>
                        <a href="#signals" class="view-all">View All ‚Üí</a>
                    </div>
                    <div class="signals-list" id="recentSignals">
                        <div class="empty-state">No signals yet. Signals will appear here as they're generated.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Portfolio Section -->
        <section id="portfolio" class="section">
            <div class="container">
                <div class="page-header">
                    <h1>My Portfolio</h1>
                    <p>Track your investments</p>
                </div>

                <div class="portfolio-summary">
                    <div class="summary-card">
                        <h3>Total Value</h3>
                        <div class="summary-value" id="portfolioTotal">$10,000.00</div>
                        <div class="summary-change" id="portfolioTotalChange">+0.00%</div>
                    </div>
                    <div class="summary-card">
                        <h3>Cash</h3>
                        <div class="summary-value" id="portfolioCash">$10,000.00</div>
                    </div>
                    <div class="summary-card">
                        <h3>Invested</h3>
                        <div class="summary-value" id="portfolioInvested">$0.00</div>
                    </div>
                </div>

                <div class="section-card">
                    <div class="card-header">
                        <h2>Holdings</h2>
                        <button class="btn-primary" id="addHoldingBtn">Add Holding</button>
                    </div>
                    <div class="holdings-table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Symbol</th>
                                    <th>Quantity</th>
                                    <th>Avg Price</th>
                                    <th>Current Price</th>
                                    <th>Value</th>
                                    <th>Gain/Loss</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="holdingsTableBody">
                                <tr>
                                    <td colspan="7" class="empty-state">No holdings yet. Add your first investment!</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- Signals Section -->
        <section id="signals" class="section">
            <div class="container">
                <div class="page-header">
                    <h1>Trading Signals</h1>
                    <p>AI-powered buy, sell, and hold recommendations</p>
                </div>

                <div class="filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="buy">Buy</button>
                    <button class="filter-btn" data-filter="sell">Sell</button>
                    <button class="filter-btn" data-filter="hold">Hold</button>
                </div>

                <div class="signals-grid" id="signalsGrid">
                    <div class="empty-state">Loading signals...</div>
                </div>
            </div>
        </section>

        <!-- Watchlist Section -->
        <section id="watchlist" class="section">
            <div class="container">
                <div class="page-header">
                    <h1>Watchlist</h1>
                    <p>Monitor stocks you're interested in</p>
                </div>

                <div class="watchlist-controls">
                    <input type="text" id="watchlistSymbolInput" placeholder="Enter symbol (e.g., AAPL)" class="input">
                    <button class="btn-primary" id="addWatchlistBtn">Add Symbol</button>
                </div>

                <div class="watchlist-grid" id="watchlistGrid">
                    <div class="empty-state">Your watchlist is empty. Add symbols to track them.</div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="section">
            <div class="container">
                <div class="page-header">
                    <h1>Analytics</h1>
                    <p>Deep insights into your portfolio and market trends</p>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>Portfolio Performance</h3>
                        <div class="chart-placeholder" id="portfolioChart">
                            <canvas id="portfolioCanvas"></canvas>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h3>Signal Accuracy</h3>
                        <div class="metrics-list" id="accuracyMetrics"></div>
                    </div>
                    <div class="analytics-card">
                        <h3>Top Performers</h3>
                        <div class="performers-list" id="topPerformers"></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Admin Panel Modal -->
    <div class="modal" id="adminModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2>Admin Control Panel</h2>
                <button class="modal-close" id="closeAdmin">&times;</button>
            </div>
            <div class="modal-body">
                <div class="admin-tabs">
                    <button class="admin-tab active" data-tab="overview">Overview</button>
                    <button class="admin-tab" data-tab="webhooks">Webhooks</button>
                    <button class="admin-tab" data-tab="users">Users</button>
                    <button class="admin-tab" data-tab="system">System</button>
                </div>

                <div class="admin-panel active" id="adminOverview">
                    <h3>System Overview</h3>
                    <div class="admin-stats">
                        <div class="admin-stat">
                            <span class="admin-stat-label">Total Users</span>
                            <span class="admin-stat-value" id="totalUsers">0</span>
                        </div>
                        <div class="admin-stat">
                            <span class="admin-stat-label">Active Signals</span>
                            <span class="admin-stat-value" id="activeSignals">0</span>
                        </div>
                        <div class="admin-stat">
                            <span class="admin-stat-label">Webhooks</span>
                            <span class="admin-stat-value" id="webhookCount">0</span>
                        </div>
                    </div>
                </div>

                <div class="admin-panel" id="adminWebhooks">
                    <div class="panel-header">
                        <h3>Webhook Management</h3>
                        <button class="btn-primary" id="addWebhookBtn">Add Webhook</button>
                    </div>
                    <div class="webhooks-list" id="webhooksList"></div>
                </div>

                <div class="admin-panel" id="adminUsers">
                    <div class="panel-header">
                        <h3>User Management</h3>
                    </div>
                    <div class="users-table-wrapper">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <div class="admin-panel" id="adminSystem">
                    <h3>System Control</h3>
                    <div class="control-list">
                        <div class="control-item">
                            <label>Maintenance Mode</label>
                            <label class="toggle">
                                <input type="checkbox" id="maintenanceMode">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Holding Modal -->
    <div class="modal" id="addHoldingModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Holding</h2>
                <button class="modal-close" id="closeHoldingModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addHoldingForm">
                    <div class="form-group">
                        <label>Symbol</label>
                        <input type="text" id="holdingSymbol" required class="input">
                    </div>
                    <div class="form-group">
                        <label>Quantity</label>
                        <input type="number" id="holdingQuantity" required min="1" class="input">
                    </div>
                    <div class="form-group">
                        <label>Price per Share</label>
                        <input type="number" id="holdingPrice" required step="0.01" class="input">
                    </div>
                    <button type="submit" class="btn-primary">Add Holding</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="api.js"></script>
    <script src="app.js"></script>
</body>
</html>
